---
marp: true
theme: espressif_devcon
headingDivider: 1
---
<!-- _class: lead -->
# Rust on Espressif chips
## Scott Mabin

<!-- TODO a bit about myself? -->

# What I'll cover today

- What Rust is?
- Why we're adopting it at Espressif?
- What you can do right now with Rust and Espressif chips?
- What's the plan going forward?

# Background on Rust

- Rust is a systems programming language with the slogan "fast, reliable, productive: pick three."
- 1.0 release back in 2015
- 6-week release cycle
- Previously governed by Mozilla, but is now managed by an independent non-profit organization, the Rust Foundation. 

# Why Rust?

- It's fast, compiling down to machine code just like C
  - Memory is deallocated as it goes out of scope, no garbage collection is required.
- Eliminates a whole class of memory and synchronization bugs at compile time
  - In 2019 Microsoft announced that over 70% of CVEs in the last 12 years related to their system-level software (written in C or C++) were memory safety bugs.
- Package management with `cargo` which is similar to the esp-idf component manager, but supports the entire language.
- Imperative language, but with strong functional elements

# Why Rust for embedded?

- Memory safety is even more important, most embedded systems do not have an MMU
- `async` <!-- TODO mention why async is still important for RTOS systems, less tasks --> 
- Separation of core library & standard library

# Why Rust at Espressif?

- We see it as an emerging language in the embedded (and tooling) space
- We expect to be able to write new parts of esp-idf in Rust
- We expect to rewrite certain parts of esp-idf where Rust's safety guarantees can help
- Ecosystem
- Package management - see component-manager

# What's possible right now?

Three approaches:

- esp-idf project + Rust
- Rust project + esp-idf
- Bare metal Rust



# What's next?
<!-- // TODO talk about the upstreaming effort -->
<!-- // mention c3 target already exists in upstream rust -->

- Start adding some components in Rust
- Provide Rust bindings for existing components
- Improve bare metal support for WiFi


# Links